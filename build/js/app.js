"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t),t.add(e)}function _classPrivateFieldInitSpec(e,t,a){_checkPrivateRedeclaration(e,t),t.set(e,a)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,a){return e.set(_assertClassBrand(e,t),a),a}function _classPrivateFieldGet(e,t){return e.get(_assertClassBrand(e,t))}function _assertClassBrand(e,t,a){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:a;throw new TypeError("Private element is not present on this object")}var _getStructureButton=new WeakMap,_getCopyResultButton=new WeakMap,_basicInput=new WeakMap,_oldInputText=new WeakMap,_charView=new WeakMap,_charList=new WeakMap,_charListItems=new WeakMap,_selectedCharView=new WeakMap,_App_brand=new WeakSet,App=function(){return _createClass((function e(){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,_App_brand),_classPrivateFieldInitSpec(this,_getStructureButton,document.querySelector(".app__get-structure-button")),_classPrivateFieldInitSpec(this,_getCopyResultButton,document.querySelector(".app__get-copy-result-button")),_classPrivateFieldInitSpec(this,_basicInput,document.querySelector(".app__basic-input")),_classPrivateFieldInitSpec(this,_oldInputText,""),_classPrivateFieldInitSpec(this,_charView,document.querySelector(".app__char-view")),_classPrivateFieldInitSpec(this,_charList,document.querySelector(".app__char-list")),_classPrivateFieldInitSpec(this,_charListItems,document.getElementsByClassName("app__char-list-item")),_classPrivateFieldInitSpec(this,_selectedCharView,document.getElementsByClassName("app__char-view-selected")),this.main()}),[{key:"main",value:function(){_assertClassBrand(_App_brand,this,_addListeners).call(this)}}])}();function _addListeners(){var e=this;_classPrivateFieldGet(_getStructureButton,this).addEventListener("click",(function(){_classPrivateFieldSet(_oldInputText,e,_classPrivateFieldGet(_basicInput,e).value),_assertClassBrand(_App_brand,e,_generateCharView).call(e),_assertClassBrand(_App_brand,e,_generateListView).call(e)})),_classPrivateFieldGet(_getCopyResultButton,this).addEventListener("click",(function(){navigator.clipboard.writeText(_classPrivateFieldGet(_basicInput,e).value).then()}))}function _generateCharView(){_classPrivateFieldGet(_charView,this).innerHTML=_classPrivateFieldGet(_basicInput,this).value}function _generateListView(){var e=this,t=_classPrivateFieldGet(_basicInput,this).value.split(""),a="";t.forEach((function(t,i){var n=_assertClassBrand(_App_brand,e,_getUnicodeInfo).call(e,t);a+='\n                <div class="app__char-list-item" data-index=\''.concat(i,'\'>\n                    <img class="app__char-list-item-copy" src="img/copy.png" alt="copy" data-char=\'').concat(t,'\'>\n                    <img class="app__char-list-item-edit" src="img/edit.png" alt="edit" data-index=\'').concat(i,'\'>\n                    <div class="app__char-list-item-char">').concat(t,'</div>\n                    <div class="app__char-list-item-code">').concat(n.code,'</div>\n                    <div class="app__char-list-item-name">').concat(n.name,"</div>\n                </div>\n            ")})),_classPrivateFieldGet(_charList,this).innerHTML=a;var i=Array.from(_classPrivateFieldGet(_charListItems,this));i.forEach((function(t){t.addEventListener("click",(function(){var a;_assertClassBrand(_App_brand,e,_selectChar).call(e,parseInt(t.dataset.index,10)),i.forEach((function(e){return e.classList.remove("app__char-list-item--selected")})),t.classList.add("app__char-list-item--selected");var n=null!==(a=_classPrivateFieldGet(_selectedCharView,e)[0])&&void 0!==a?a:null;n&&n.scrollIntoView({behavior:"smooth",block:"start"})}));var a=t.getElementsByClassName("app__char-list-item-copy")[0],n=a.dataset.char;a.addEventListener("click",(function(e){e.stopPropagation(),navigator.clipboard.writeText(n).then()}));var r=t.getElementsByClassName("app__char-list-item-edit")[0],s=parseInt(t.dataset.index,10);r.addEventListener("click",(function(t){t.stopPropagation();var a=prompt("Type symbol");if(a&&1===a.length){var i=_classPrivateFieldGet(_basicInput,e).value,n=_assertClassBrand(_App_brand,e,_updateCharInText).call(e,i,s,a);_classPrivateFieldGet(_basicInput,e).value=n,_classPrivateFieldSet(_oldInputText,e,n),_classPrivateFieldGet(_getStructureButton,e).click(),console.log('.app__char-list-item--selected[data-index="'.concat(s,'"]')),setTimeout((function(){document.querySelector('.app__char-list-item[data-index="'.concat(s,'"]')).click()}))}else alert("You either entered nothing or more than one character")}))}))}function _selectChar(e){var t=_classPrivateFieldGet(_oldInputText,this),a=t.slice(0,e),i=t[e],n=t.slice(e+1);_classPrivateFieldGet(_charView,this).innerHTML=a+'<span class="app__char-view-selected">'.concat(i,"</span>")+n}function _getUnicodeInfo(e){return Unicore.getUnicodeInfo(e)}function _updateCharInText(e,t,a){return e.slice(0,t)+a+e.slice(t+1)}document.addEventListener("DOMContentLoaded",(function(){new App}));